import{y as S}from"./index-BwI74Y1v.js";import{u as m}from"./useQuery-rxeh5PZ5.js";import{c as P,f as h}from"./queryParams.utils-0nFsCxa3.js";const F=e=>{let t=e.queryMode==="server"?P(e.activeFilters,e.filterConfigs):new URLSearchParams;e.staticParams&&Object.keys(e.staticParams).forEach(s=>{e.staticParams&&t.append(s,e.staticParams[s].toString())}),e.queryMode==="server"&&(t.append("limit",e.pageSize.toString()),t.append("offset",e.offset.toString()));const c=e.queryMode==="server"?[e.dataSource,{...e.activeFilters,pageSize:e.pageSize,offset:e.offset}]:[e.dataSource],{isPending:a,isFetching:i,isError:o,data:l,error:p}=m({queryKey:c,queryFn:async()=>{const s=t.toString();let r=e.dataSource;return s&&s.length>0&&(r=`${e.dataSource}?${s}`),await h(r)},placeholderData:S});return{isPending:a,isFetching:i,isError:o,data:l,error:p}};export{F as u};
