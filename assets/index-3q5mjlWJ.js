import{ac as j,K as g,j as e,B as a,N as p,S as n,T as d,v as C,w as y,A as u,d as w,ad as S,M as h,P as F}from"./index-BwI74Y1v.js";import{H as k}from"./Home-Cx49tTL6.js";import{u as D,F as N,a as P}from"./FilterField-HJQCpZR3.js";import{f as R,F as A}from"./filters.utils-B79yzmM7.js";import{u as _}from"./useDataFromSource-GqkOg97M.js";import{S as L,D as T}from"./DataGrid-BIuPBIwQ.js";import{F as I}from"./FilterList-GxOPUAFO.js";import{a as B}from"./queryParams.utils-0nFsCxa3.js";import{I as M}from"./ImageWrapper-BMtMvSNl.js";import"./DatePicker-Csn6o-NH.js";import"./DateCalendar-BhySui_f.js";import"./IconButton-CtsuKVV5.js";import"./Close-_Ou4gZrC.js";import"./useGridRootProps-DzijqpoL.js";import"./MenuItem-nKPbTNnY.js";import"./dividerClasses-C3tDWgfD.js";import"./Divider-YBj75B88.js";const H=(i,t)=>p(i).isAfter(p(t))?1:0,E=[{field:"id",headerName:"Run #",width:100},{field:"experiment_name",headerName:"Name",width:250,flex:1},{field:"cromwell_result",headerName:"Cromwell Result",width:150},{field:"status",headerName:"Status",width:120},{field:"user",headerName:"User",width:120},{field:"site",headerName:"Site",width:100},{field:"start_time",headerName:"Submitted",sortComparator:H,width:150},{field:"end_time",headerName:"Updated",width:150}],U=({filterConfigs:i,searchTerm:t})=>{const{activeFilters:r}=D(),o=j(),s=_("data/runs-all-all-any-7-2025-10-23.csv"),c=g.useMemo(()=>s?s.map(l=>({id:l["Run#"],experiment_name:l.Name,start_time:l.Submitted,end_time:l.Updated,status:l.Status,cromwell_result:l["Cromwell Result"],tag:l.Tag,user:l.User,site:l.Site})):null,[s]);if(!c){const b=new Array(10).fill(null).map((m,v)=>v);return e.jsx(a,{sx:{padding:2},children:b.map(m=>e.jsx(L,{height:50},m))})}const f=R(c,r,i,t);return e.jsx(e.Fragment,{children:e.jsx(T,{rows:f,getRowId:l=>l.id,columns:E,initialState:{sorting:{sortModel:[{field:"start_time",sort:"desc"}]}},onRowClick:()=>o({to:"/monitor-activities/detail"}),disableColumnSelector:!0,disableRowSelectionOnClick:!0})})},$=({searchTerm:i,setSearchTerm:t,onToggleFiltersPanel:r})=>{const o=s=>{t(s.target.value)};return e.jsxs(n,{direction:"row",spacing:2,alignItems:"center",sx:{overflow:"hidden",padding:2},children:[e.jsx(d,{variant:"h6",component:"h2",flex:1,children:"Experiments List"}),e.jsx(C,{startIcon:e.jsx(I,{}),onClick:r,children:"Filters"}),e.jsx(y,{variant:"outlined",label:"Search",size:"small",value:i,onChange:o})]})},G=({filterConfigs:i,onClose:t})=>e.jsx(A,{grouped:!1,onClose:t,sx:{border:"none"},children:i.map((r,o)=>e.jsx(N,{field:r.field,label:r.label,operator:r.operator||"contains",filterComponent:r.filterComponent,filterProps:r.filterProps},`${r.field}-${o}`))}),K=({filterConfigs:i})=>{const t=()=>{};return e.jsxs(a,{sx:{width:"350px",height:"100vh",position:"sticky",top:0,borderRight:"1px solid",borderColor:"grey.300",backgroundColor:"white",display:"flex",flexDirection:"column"},children:[e.jsx(a,{sx:{p:2,borderBottom:"1px solid",borderColor:"grey.300"},children:e.jsxs(n,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(u,{to:"/",children:e.jsx(M,{height:30,children:e.jsx("img",{src:B("/ramanikothadia-workshop-2025//strudel-logo-icon.png"),alt:"Logo"})})}),e.jsx(u,{to:"/",children:e.jsx(d,{variant:"h6",component:"div",fontWeight:"bold",children:"My Project"})})]})}),e.jsx(a,{sx:{flex:1,overflow:"auto"},children:e.jsx(G,{filterConfigs:i,onClose:t})})]})},x=[{field:"site",label:"Site",operator:"contains-one-of",filterComponent:"CheckboxList",filterProps:{options:[{label:"Crux",value:"crux"},{label:"Defiant",value:"defiant"},{label:"Dori",value:"dori"},{label:"JGI",value:"jgi"},{label:"KBase",value:"kbase"},{label:"NMDC",value:"nmdc"},{label:"NMDC Tahoma",value:"nmdc_tahoma"},{label:"Perlmutter",value:"perlmutter"},{label:"Tahoma",value:"tahoma"},{label:"Any",value:"any"}]}},{field:"days",label:"Days",operator:"equals",filterComponent:"TextField",filterProps:{type:"number",placeholder:"Enter number of days..."}},{field:"status",label:"Status",operator:"contains-one-of",filterComponent:"CheckboxList",filterProps:{options:[{label:"Active",value:"active"},{label:"Done",value:"done"},{label:"Any",value:"any"}]}},{field:"cromwell_result",label:"Result",operator:"contains-one-of",filterComponent:"CheckboxList",filterProps:{options:[{label:"Succeeded",value:"succeeded"},{label:"Failed",value:"failed"},{label:"Cancelled",value:"cancelled"},{label:"Any",value:"any"}]}}],se=function(){const[t,r]=w.useState("");return e.jsx(P,{children:e.jsxs(n,{direction:"row",sx:{height:"100vh",overflow:"hidden"},children:[e.jsx(K,{filterConfigs:x}),e.jsxs(a,{sx:{flex:1,overflow:"auto",display:"flex",flexDirection:"column"},children:[e.jsx(a,{sx:{p:2,borderBottom:"1px solid",borderColor:"grey.300"},children:e.jsxs(S,{"aria-label":"breadcrumb",children:[e.jsx(h,{underline:"hover",color:"inherit",href:"/",children:e.jsx(k,{sx:{verticalAlign:"middle"}})}),e.jsx(h,{underline:"hover",color:"inherit",children:"..."}),e.jsx(d,{color:"text.primary",children:"Monitor Activities"})]})}),e.jsxs(F,{elevation:0,sx:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:[e.jsx($,{searchTerm:t,setSearchTerm:r,onToggleFiltersPanel:()=>{}}),e.jsx(a,{sx:{flex:1,minHeight:0},children:e.jsx(U,{filterConfigs:x,searchTerm:t})})]})]})]})})};export{se as component};
