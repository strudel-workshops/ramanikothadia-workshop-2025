import{d as p,j as e,B as o,x as A,S as c,T as d,v as w,w as E,P as S,A as P,L as b}from"./index-BwI74Y1v.js";import{u as k,F as z,a as L}from"./FilterField-HJQCpZR3.js";import{P as V}from"./PageHeader-C8EDZ6HA.js";import{S as H}from"./SciDataGrid-DXItY0_O.js";import{f as B,F as O}from"./filters.utils-B79yzmM7.js";import{u as W}from"./useListQuery-Yscd8xh8.js";import{S as G,D as $}from"./DataGrid-BIuPBIwQ.js";import{A as K}from"./Alert-ByTtoh6e.js";import{F as q}from"./FilterList-GxOPUAFO.js";import{C as Q}from"./Close-_Ou4gZrC.js";import{I as J}from"./IconButton-CtsuKVV5.js";import"./DatePicker-Csn6o-NH.js";import"./DateCalendar-BhySui_f.js";import"./Home-Cx49tTL6.js";import"./Grid-BzjZsxLf.js";import"./useQuery-rxeh5PZ5.js";import"./queryParams.utils-0nFsCxa3.js";import"./useGridRootProps-DzijqpoL.js";import"./MenuItem-nKPbTNnY.js";import"./dividerClasses-C3tDWgfD.js";import"./Divider-YBj75B88.js";const U=({filterConfigs:t,searchTerm:i,setPreviewItem:a})=>{const{activeFilters:r}=k(),[l,h]=p.useState(0),[s,x]=p.useState(25),[g,f]=p.useState(l*s),C="Id",v="client",{isPending:F,isFetching:D,isError:M,data:R,error:I}=W({activeFilters:r,dataSource:"dummy-data/exoplanets.csv",filterConfigs:t,offset:g,pageSize:s,queryMode:v,staticParams:null}),N=n=>{a(n.row)},T=n=>{const u=n.pageSize!==s?0:n.page,m=n.pageSize,j=u*m;h(u),x(m),f(j)};if(F){const u=new Array(s).fill(null).map((m,j)=>j);return e.jsx(o,{sx:{padding:2},children:u.map(m=>e.jsx(G,{height:50},m))})}return M?e.jsx(K,{severity:"error",children:I.message}):e.jsxs(e.Fragment,{children:[D&&e.jsx(A,{variant:"indeterminate"}),e.jsx(H,{rows:B(R,r,t,i),pagination:!0,paginationMode:v,onPaginationModelChange:T,getRowId:n=>n[C],columns:[{field:"Planet Name",headerName:"Planet Name",width:200},{field:"Planet Host",headerName:"Planet Host",width:200},{field:"Discovery Method",headerName:"Discovery Method",width:200},{field:"Orbital Period Days",headerName:"Orbital Period",units:"days",type:"number",width:200},{field:"Mass",headerName:"Mass",units:"Earth Mass",type:"number",width:200},{field:"Eccentricity",headerName:"Eccentricity",type:"number",width:200}],disableColumnSelector:!0,autoHeight:!0,initialState:{pagination:{paginationModel:{page:l,pageSize:s}}},onRowClick:N})]})},X=({searchTerm:t,setSearchTerm:i,onToggleFiltersPanel:a})=>{const r=l=>{i(l.target.value)};return e.jsxs(c,{direction:"row",spacing:2,alignItems:"center",sx:{overflow:"hidden",padding:2},children:[e.jsx(d,{variant:"h6",component:"h2",flex:1,children:"Entity List"}),e.jsx(w,{startIcon:e.jsx(q,{}),onClick:a,children:"Filters"}),e.jsx(E,{variant:"outlined",label:"Search",size:"small",value:t,onChange:r})]})},Y=({filterConfigs:t,onClose:i})=>e.jsx(O,{grouped:!1,onClose:i,sx:{border:"none"},children:t.map((a,r)=>e.jsx(z,{field:a.field,label:a.label,operator:"contains",filterComponent:a.filterComponent,filterProps:a.filterProps},`${a.field}-${r}`))}),Z=[{field:"id",headerName:"ID",width:50},{field:"attr1",headerName:"Attribute 1",width:100},{field:"attr2",headerName:"Attribute 2",width:100},{field:"attr3",headerName:"Attribute 3",width:100}],_=Array(25).fill(0),ee=_.map((t,i)=>({id:i,attr1:"value",attr2:"value",attr3:"value"})),te=({previewItem:t,onClose:i})=>e.jsx(S,{elevation:0,sx:{height:"100%",padding:2},children:e.jsxs(c,{spacing:3,children:[e.jsxs(c,{spacing:1,children:[e.jsxs(c,{direction:"row",children:[e.jsx(d,{variant:"h6",component:"h3",flex:1,children:e.jsx(P,{to:"/explore-data/$id",params:{id:t.Id},children:t["Planet Name"]})}),e.jsx(J,{size:"small",onClick:i,children:e.jsx(Q,{})})]}),e.jsx(d,{variant:"body2",children:"Row description, subtitle, or helper text."})]}),e.jsxs(o,{children:[e.jsx(d,{fontWeight:"medium",mb:1,children:"Property Group 1"}),e.jsx(b,{rows:[{label:"Property 1",value:"value"},{label:"Property 2",value:"value"},{label:"Property 3",value:"value"}]})]}),e.jsxs(o,{children:[e.jsx(d,{fontWeight:"medium",mb:1,children:"Property Group 2"}),e.jsx(b,{rows:[{label:"Property 4",value:"value"},{label:"Property 5",value:"value"}]})]}),e.jsxs(o,{children:[e.jsx(d,{fontWeight:"medium",mb:1,children:"Related Data"}),e.jsx($,{rows:ee,columns:Z,disableRowSelectionOnClick:!0,initialState:{pagination:{paginationModel:{pageSize:5}}}})]}),e.jsxs(c,{direction:"row",children:[e.jsx(P,{to:"/explore-data/$id",params:{id:t.Id},children:e.jsx(w,{variant:"contained",children:"View details"})}),e.jsx(w,{variant:"outlined",children:"Export data"})]})]})}),y=[{field:"Discovery Method",label:"Discovery Method",operator:"contains-one-of",filterComponent:"CheckboxList",filterProps:{options:[{label:"Astrometry",value:"Astrometry"},{label:"Disk Kinematics",value:"Disk Kinematics"},{label:"Eclipse Timing Variations",value:"Eclipse Timing Variations"},{label:"Imaging",value:"Imaging"},{label:"Microlensing",value:"Microlensing"},{label:"Radial Velocity",value:"Radial Velocity"},{label:"Transit",value:"Transit"}]}},{field:"Mass",label:"Mass",operator:"between-inclusive",filterComponent:"RangeSlider",filterProps:{min:0,max:1e4}}],ye=function(){const[i,a]=p.useState(""),[r,l]=p.useState(),[h,s]=p.useState(!0),x=()=>{s(!1)},g=()=>{s(!h)},f=()=>{l(null)};return e.jsx(L,{children:e.jsxs(o,{children:[e.jsx(V,{pageTitle:"Explore Data App",description:"Description of this app",sx:{marginBottom:1,padding:2}}),e.jsx(o,{children:e.jsxs(c,{direction:"row",children:[h&&e.jsx(o,{sx:{width:"350px"},children:e.jsx(Y,{filterConfigs:y,onClose:x})}),e.jsxs(S,{elevation:0,sx:{flex:1,minHeight:"600px",minWidth:0},children:[e.jsx(X,{searchTerm:i,setSearchTerm:a,onToggleFiltersPanel:g}),e.jsx(U,{filterConfigs:y,searchTerm:i,setPreviewItem:l})]}),r&&e.jsx(o,{sx:{minWidth:"400px"},children:e.jsx(te,{previewItem:r,onClose:f})})]})})]})})};export{ye as component};
