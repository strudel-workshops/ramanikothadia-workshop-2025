import{aX as w,d as h,aY as b}from"./index-BwI74Y1v.js";import{a as g,b as k,t as E}from"./queryParams.utils-0nFsCxa3.js";const P=t=>{var n;const{dispatch:p}=w(),[f,m]=h.useState(),d=((n=document.querySelector("base"))==null?void 0:n.getAttribute("href"))??"",u=g("/"+d+"/ramanikothadia-workshop-2025/");return h.useEffect(()=>{(async()=>{const s=t.split(".").pop(),c=t.startsWith("http"),o=c?t:`${u}/${t}`;let e=[];if(s==="csv")e=await k(o);else if(s==="tsv")e=await E(o);else if(s==="json"||c){let r=new Headers;const i=localStorage.getItem("apiTokenName"),l=localStorage.getItem("apiTokenValue");i&&l&&(r=new Headers({[i]:l}));try{const a=await fetch(o,{headers:r,method:"GET",redirect:"follow"});if(!a.ok)throw p(b()),new Error("unable to fetch");e=await a.json()}catch(a){console.log(a)}}m(e)})()},[]),f};export{P as u};
